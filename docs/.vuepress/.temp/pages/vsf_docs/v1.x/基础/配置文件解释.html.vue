<template><h1 id="配置文件解释" tabindex="-1"><a class="header-anchor" href="#配置文件解释" aria-hidden="true">#</a> 配置文件解释</h1>
<p>Vue Storefront 应用程序使用<a href="https://github.com/lorenwest/node-config" target="_blank" rel="noopener noreferrer">node-config （打开新窗口）<OutboundLink/></a>npm 模块来管理配置文件。配置存储在<code>/config</code>两个 JSON 文件中的目录中：</p>
<ul>
<li><code>default.json</code>是与核心 Vue Storefront 代码一起提供的配置文件，并随着 Vue Storefront 的任何新版本进行更新。它仅包含默认值，因此不应在您的特定 Vue Storefront 实例中进行修改。</li>
<li><code>local.json</code>是来自存储库的 .gitignore 的第二个配置文件。这是您应该存储所有特定于实例的配置变量的地方。</li>
</ul>
<p>笔记</p>
<p>请注意，<code>config</code>被捆绑到返回到用户浏览器的 JavaScript 文件中。请<strong>不要将任何敏感信息</strong>放入<code>vue-storefront</code>. 如果您的应用程序需要一些授权/令牌/等 - 请存储它们并通过专用<a href="https://github.com/vuestorefront/vue-storefront-api" target="_blank" rel="noopener noreferrer"><code>vue-storefront-api</code> （打开新窗口）<OutboundLink/></a>或者 <a href="https://github.com/vuestorefront/storefront-api" target="_blank" rel="noopener noreferrer"><code>storefront-api</code> （打开新窗口）<OutboundLink/></a>将阻止这些敏感信息返回给用户的扩展。</p>
<p>这些文件的结构完全一样！Vue Storefront 确实有点 <code>Object.assign(default, local)</code>（但深度合并）。这意味着<code>local.json</code>覆盖<code>default.json</code>属性。</p>
<p>笔记</p>
<p>请查看<code>node-config</code>文档，因为该库是开放的，可以通过其他方式修改配置（例如使用<code>ENV</code>变量）。</p>
<p>笔记</p>
<p>目前，配置文件正在构建过程中由 webpack 处理。这意味着每当您应用一些配置更改时，您都应该重建应用程序，即使在使用该<code>yarn dev</code>模式时也是如此。可以使用 VS 1.4 特殊配置变量解决此限制。现在，如果<code>config.server.dynamicConfigReload</code>和<code>config.server.dynamicConfigReloadWithEachRequest</code>设置为true ，则可以随每个服务器请求即时重新加载配置。但是，在这种情况下，配置会添加到<code>window.INITIAL_STATE</code>响应中。</p>
<p>当您使用 时，<code>config.server.dynamicConfigReload</code>请记住<code>config.server.dynamicConfigExclude</code>和<code>config.server.dynamicConfigInclude</code>。</p>
<p>请在下面找到配置属性参考。</p>
<h2 id="服务器" tabindex="-1"><a class="header-anchor" href="#服务器" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#server" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>服务器</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"server"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
  <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token property">"useHtmlMinifier"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"htmlMinifierOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"minifyJS"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"minifyCSS"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"useOutputCacheTagging"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"useOutputCache"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Vue Storefront 启动一个 HTTP 服务器来交付 SSR（服务器端渲染）页面和静态资产。它的 node.js 服务器位于<code>core/scripts/server.js</code>. 这是 Vue Storefront 绑定的主机名和 TCP 端口。</p>
<p>当<code>useHtmlMinifier</code>设置为 true 时，生成的 SSR HTML 将<a href="https://www.npmjs.com/package/html-minifier#options-quick-reference" target="_blank" rel="noopener noreferrer">使用<code>htmlMinifierOptions</code> （打开新窗口）<OutboundLink/></a>.</p>
<p>当<code>useOutputCacheTagging</code>和<code>useOutputCache</code>选项被启用，Vue公司店面存储在基于Redis的输出缓存渲染页面。一些额外的配置选项可用于输出缓存。<a href="https://docs.vuestorefront.io/v1/guide/basics/ssr-cache.html" target="_blank" rel="noopener noreferrer">查看详情<OutboundLink/></a></p>
<h2 id="搜索引擎优化" tabindex="-1"><a class="header-anchor" href="#搜索引擎优化" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#seo" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>搜索引擎优化</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"seo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"useUrlDispatcher"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"disableUrlRoutesPersistentCache"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"defaultTitle"</span><span class="token operator">:</span> <span class="token string">"Vuestore"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当<code>config.seo.useUrlDispatcher</code>设置为 true 时，<code>product.url_path</code>and<code>category.url_path</code>字段用作绝对 URL 地址（不再有<code>/c</code>和<code>/p</code>前缀）。检查最新的 [ <code>mage2vuestorefront</code>] 快照并重新导入您的产品以正确设置<code>url_path</code>字段。</p>
<p>例如，当<code>category.url_path</code>设置为<code>women/frauen-20</code>产品时，将在以下 URL 地址下可用：</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>http://localhost:3000/women/frauen-20` `http://localhost:3000/de/women/frauen-20
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>对于，<code>config.seo.disableUrlRoutesPersistentCache</code>- 不存储 url 映射；无论如何，它们都存储在内存缓存中，因此不会向后端发出额外的请求以进行 url 映射；然而，它可能会导致一些问题的URL在离线模式下（离线模式主屏幕上安装PWA得到了重新加载，在内存中缓存将被清除，所以不会有可能是URL映射路由;然而同样喜欢用<code>product/list</code>的ServiceWorker 缓存无论如何都应该填充 url 映射）</p>
<p>因为，<code>config.seo.defaultTitle</code>顾名思义，它是商店的默认标题。</p>
<h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#redis" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>Redis</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"redis"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
  <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">6379</span><span class="token punctuation">,</span>
  <span class="token property">"db"</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这是输出缓存的 Redis 配置。<a href="https://docs.vuestorefront.io/v1/guide/basics/ssr-cache.html" target="_blank" rel="noopener noreferrer">在此处<OutboundLink/></a>查看其他信息</p>
<h2 id="图形语言" tabindex="-1"><a class="header-anchor" href="#图形语言" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#graphql" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>图形语言</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"graphql"</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
  <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">8080</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这是一个可选的 GraphQL 端点。我们现在支持<a href="https://docs.vuestorefront.io/v1/guide/basics/graphql.html" target="_blank" rel="noopener noreferrer">目录的<OutboundLink/></a>graphQL，并且当<code>server.api</code>设置为<code>graphql</code>（默认为“api”）时使用此部分</p>
<h2 id="弹性搜索" tabindex="-1"><a class="header-anchor" href="#弹性搜索" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#elasticsearch" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>弹性搜索</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"elasticsearch"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"httpAuth"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"localhost:8080/api/catalog"</span><span class="token punctuation">,</span>
  <span class="token property">"index"</span><span class="token operator">:</span> <span class="token string">"vue_storefront_catalog"</span><span class="token punctuation">,</span>
  <span class="token property">"min_score"</span><span class="token operator">:</span> <span class="token number">0.02</span><span class="token punctuation">,</span>
  <span class="token property">"csrTimeout"</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token property">"ssrTimeout"</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token property">"queryMethod"</span><span class="token operator">:</span> <span class="token string">"POST"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Vue Storefront 使用 Elasticsearch 查询语言来查询数据。但是，这里放置的是 Vue Storefront API<code>/api/catalog</code> 端点，它是一种 Elasticsearch 代理（处理税收、安全性等）。</p>
<p>如果您的<code>vue-storefront-api</code>实例在<code>localhost</code>, 端口上运行，<code>8080</code>则正确的 elasticsearch 端点如此处所示。</p>
<p>从Vue的店面V1.6开始，用户可以设定<code>config.elasticsearch.queryMethod</code>任一<em>POST</em>（默认）或<em>GET</em>。当<em>GET</em>被设置，Elasticsearch查询对象传递给VUE的店面-API作为一个请求参数命名的<em>请求</em>。通过这样做，Service Worker 现在将能够缓存来自 Elasticsearch 的结果。Service Worker 当前无法缓存任何 POST 请求。</p>
<p>注意</p>
<p>Service Worker 不会在开发环境中缓存 /api 请求。(localhost) 作为 vue-storefront-api 默认在不同的端口 (8080) 上运行。</p>
<h2 id="固态继电器" tabindex="-1"><a class="header-anchor" href="#固态继电器" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#ssr" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>固态继电器</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"ssr"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"executeMixedinAsyncData"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>默认情况下，Vue Storefront 主题是通过构建一组“混合”核心组件的组件来创建的。例如，您通过在该部分中包含此核心组件 <code>/src/themes/default/pages/Product.vue</code>来继承。<code>/core/pages/Product.js``&quot;mixins&quot;: [Product]</code></p>
<p>SSR数据正在<code>asyncData</code>静态方法中完成。如果此配置参数设置为<code>true</code>（默认），Vue Storefront 将按<code>asyncData</code>以下顺序运行方法： <code>core/pages/Product.js</code>-&gt; <code>asyncData</code> <code>src/themes/default/pages/Product.vue</code>-&gt;<code>asyncData</code></p>
<p>如果它被设置为<code>false</code>，那么<strong>就在</strong> <code>src/themes/default/pages/Product.vue</code>- &gt;<code>asyncData</code>将被执行。这个选项在<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/client-entry.ts" target="_blank" rel="noopener noreferrer">core/client-entry.ts 中<OutboundLink/></a>被引用<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/client-entry.ts" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>线：85。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"lazyHydrateFor"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"category-next.products"</span><span class="token punctuation">,</span> <span class="token string">"homepage"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>过滤掉给定的属性<code>window.__INITIAL_STATE__</code>并启用<a href="https://github.com/maoberlehner/vue-lazy-hydration" target="_blank" rel="noopener noreferrer">惰性水化 （打开新窗口）<OutboundLink/></a>在客户端<code>category-next.products</code>和开箱即用<code>homepage</code>。</p>
<h2 id="任务的最大尝试次数" tabindex="-1"><a class="header-anchor" href="#任务的最大尝试次数" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#max-attempt-of-tasks" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>任务的最大尝试次数</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"queues"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"maxNetworkTaskAttempts"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"maxCartBypassAttempts"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当您不想重新尝试仅 X 次尝试任务的任务时，将使用这两个选项。</p>
<p><code>maxNetworkTaskAttempts</code>配置变量在<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/lib/sync/task.ts" target="_blank" rel="noopener noreferrer">core/lib/sync/task.ts 中引用 （打开新窗口）<OutboundLink/></a>如果用户令牌无效，则重新尝试。</p>
<p><code>maxCartBypassAttempts</code> 配置变量在<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/modules/cart/store/actions.ts" target="_blank" rel="noopener noreferrer">core/modules/cart/store/actions.ts 中<OutboundLink/></a>引用<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/modules/cart/store/actions.ts" target="_blank" rel="noopener noreferrer">（打开新窗口）<OutboundLink/></a></p>
<h2 id="默认商店代码" tabindex="-1"><a class="header-anchor" href="#默认商店代码" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#default-store-code" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>默认商店代码</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"defaultStoreCode"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>此选项仅用于<a href="https://docs.vuestorefront.io/v1/guide/integrations/multistore.html" target="_blank" rel="noopener noreferrer">Multistore 设置<OutboundLink/></a>。默认情况下，<code>''</code>但如果您正在运行，例如，多实例 Vue Storefront 设置并且当前实例应连接到<code>en</code>后端的商店，请设置它。此配置变量在<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/lib/multistore.ts" target="_blank" rel="noopener noreferrer">core/lib/multistore.ts 中<OutboundLink/></a>引用<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/lib/multistore.ts" target="_blank" rel="noopener noreferrer">（打开新窗口）<OutboundLink/></a></p>
<h2 id="店铺浏览量" tabindex="-1"><a class="header-anchor" href="#店铺浏览量" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#store-views" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>店铺浏览量</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"storeViews"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"multistore"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"commonCache"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"mapStoreUrlsFor"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"de"</span><span class="token punctuation">,</span> <span class="token string">"it"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果<code>storeViews.multistore</code>设置为 ，<code>true</code>您将看到<code>LanguageSwitcher.vue</code>包含在页脚中，并且所有多存储<a href="https://docs.vuestorefront.io/v1/guide/integrations/multistore.html" target="_blank" rel="noopener noreferrer">操作<OutboundLink/></a>都将包含在请求流中。</p>
<p>您应该将所有多商店代码添加到<code>mapStoreUrlsFor</code>该属性，因为<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/lib/multistore.ts" target="_blank" rel="noopener noreferrer">core/lib/multistore.ts<OutboundLink/></a>使用此属性<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/lib/multistore.ts" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>-&gt;<code>setupMultistoreRoutes</code>添加<code>/&lt;store_code&gt;/p/....</code>和其他标准路由的方法。通过访问它们，您正在<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/client-entry.ts" target="_blank" rel="noopener noreferrer">指示 Vue Storefront 切换当前商店 （打开新窗口）<OutboundLink/></a>设置（i18n、具有特定 storeCode 的 API 请求等...）</p>
<p><code>commonCache</code>指的是 llocal 浏览器缓存。如果它设置为 false（默认），购物车、目录、用户数据等的缓存在 storeViews 之间共享，默认前缀（商店）。否则，它们中的每一个都单独存储（storecode-shop 前缀）。</p>
<p><code>storeViews</code> 部分包含一个或多个额外的商店视图，配置为提供正确的 i18n 翻译、税收设置等。请在下面找到此部分的文档。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"de"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"storeCode"</span><span class="token operator">:</span> <span class="token string">"de"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>该属性不是通过“扩展”机制继承的。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"storeId"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是<code>storeId</code> 在后端面板中设置的。某些 API 调用正在使用此参数来获取特定的商店货币和/或税收设置。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"German Store"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是显示在<code>Language/Switcher.vue</code>.</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"/de"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>此 URL 仅在<code>Switcher</code>组件中使用。通常它等于<code>/&lt;store_code&gt;</code>。有时，即使在不同的 URL 地址下，您可能希望将不同的商店视图作为单独的 Vue Storefront 实例运行。这是此属性生效时的情况。看看<a href="https://github.com/vuestorefront/vue-storefront/blob/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer">Language/Switcher.vue<OutboundLink/></a>如何<a href="https://github.com/vuestorefront/vue-storefront/blob/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>生成商店列表。它不仅接受路径，还接受域。该属性不是通过“扩展”机制继承的。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"appendStoreCode"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>在默认配置中，商店代码附加在每个 url 的末尾。如果您只想将域用作商店网址，则可以将其设置为<code>false</code>. 该属性不是通过“扩展”机制继承的。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"elasticsearch"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"localhost:8080/api/catalog"</span><span class="token punctuation">,</span>
      <span class="token property">"index"</span><span class="token operator">:</span> <span class="token string">"vue_storefront_catalog_de"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ElasticSearch 设置可以在特定<code>storeView</code>配置中被覆盖。您可以使用不同的 ElasticSearch 实例来支持特定的<code>storeView</code>.</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"tax"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"sourcePriceIncludesTax"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">"defaultCountry"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
      <span class="token property">"defaultRegion"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token property">"calculateServerSide"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>税收部分由<a href="https://github.com/vuestorefront/vue-storefront/blob/master/core/modules/catalog/helpers/tax" target="_blank" rel="noopener noreferrer">core/modules/catalog/helpers/tax 使用 （打开新窗口）<OutboundLink/></a>. 当<code>sourcePricesIncludesTax</code>设置为<code>true</code>它意味着在 ElasticSearch 中索引的价格已经包含税收。如果它设置为<code>false</code>税将计算运行时。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"seo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"defaultTitle"</span><span class="token operator">:</span> 'Vuestore'
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>SEO 部分<code>defaultTitle</code>用于特定商店的设置标题。</p>
<p>在<code>defaultCountry</code>和<code>defaultRegion</code>设置被用于查找为匿名适当的税率，未识别用户（哪个国家尚未设置）。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"i18n"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"fullCountryName"</span><span class="token operator">:</span> <span class="token string">"Germany"</span><span class="token punctuation">,</span>
      <span class="token property">"fullLanguageName"</span><span class="token operator">:</span> <span class="token string">"German"</span><span class="token punctuation">,</span>
      <span class="token property">"defaultLanguage"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
      <span class="token property">"defaultCountry"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
      <span class="token property">"defaultLocale"</span><span class="token operator">:</span> <span class="token string">"de-DE"</span><span class="token punctuation">,</span>
      <span class="token property">"currencyCode"</span><span class="token operator">:</span> <span class="token string">"EUR"</span><span class="token punctuation">,</span>
      <span class="token property">"currencySign"</span><span class="token operator">:</span> <span class="token string">"EUR"</span><span class="token punctuation">,</span>
      <span class="token property">"dateFormat"</span><span class="token operator">:</span> <span class="token string">"HH:mm D-M-YYYY"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>翻译引擎 ( <code>defautlLocale</code>) 和<a href="https://github.com/vuestorefront/vue-storefront/blob/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer">Language/Switcher.vue<OutboundLink/></a>使用国际化设置<a href="https://github.com/vuestorefront/vue-storefront/blob/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>( <code>fullCountryName</code>, <code>fullLanguageName</code>) <code>currencyCode</code>用于一些 API 调用（主要是渲染价格）并<code>currencySign</code>用于在前端显示价格。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>   <span class="token property">"extend"</span><span class="token operator">:</span> <span class="token string">"de"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>您可以从您选择的其他商店视图继承设置。结果配置将通过<code>extend</code>优先当前 storeview 值的属性中设置的 storecode 与所选 storeview 深度合并。请记住，不能从其他商店视图继承<code>url</code>,<code>storeCode</code>和<code>appendStoreCode</code>属性。</p>
<h2 id="实体" tabindex="-1"><a class="header-anchor" href="#实体" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#entities" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>实体</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"entities"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"optimize"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果此选项设置为 true，Vue Storefront 会将从 API 端点检索的数据限制为 ，<code>includeFields</code>并删除<code>excludeFields</code>下面所有特定实体的所有as 集。此选项<code>true</code>默认设置为，因为 JSON 对象可能很大！</p>
<p>该选项属性在<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/product" target="_blank" rel="noopener noreferrer">core/modules/catalog/store/product 中<OutboundLink/></a>引用<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/product" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>, <a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/category" target="_blank" rel="noopener noreferrer">core/modules/catalog/store/category （打开新窗口）<OutboundLink/></a>,<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/attribute" target="_blank" rel="noopener noreferrer">核心/模块/目录/商店/属性（打开新窗口）<OutboundLink/></a></p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"twoStageCaching"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Vue Storefront 将检索<code>vue-storefront-api</code>到的所有数据实体 缓存到 indexedDB 本地缓存中。这是为用户提供离线模式的关键功能。不幸的是，当该<code>entities.optimize</code>选项设置为 时<code>true</code>，我们无法缓存优化的实体，因为它们不包含所有必需的信息。</p>
<p>它的工作原理就像一次执行两个并行服务器请求以获取所需的产品、类别或属性提要一样。第一个请求是有限的字段，第二个是完整的记录。仅缓存第二个请求，**但****第一个请求（通常以更快的速度结束）用于显示类别或产品页面。</p>
<p>请看<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/category" target="_blank" rel="noopener noreferrer">core/modules/catalog/store/category （打开新窗口）<OutboundLink/></a>供参考。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"optimizeShoppingCart"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Vue Storefront 产品对象可能非常大。它们由<code>configurable_children</code>,<code>media_gallery</code>和其他信息组成。对于呈现产品和类别页面非常重要，但在购物车中不太有用。为了限制购物车的大小（因为它在下订单时传输到服务器），正在使用此选项。</p>
<p>请看一下<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/cart" target="_blank" rel="noopener noreferrer">核心/模块/购物车 （打开新窗口）<OutboundLink/></a>.</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"optimizeShoppingCartOmitFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"configurable_children"</span><span class="token punctuation">,</span> <span class="token string">"configurable_options"</span><span class="token punctuation">,</span> <span class="token string">"media_gallery"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">,</span> <span class="token string">"category"</span><span class="token punctuation">,</span> <span class="token string">"category_ids"</span><span class="token punctuation">,</span> <span class="token string">"product_links"</span><span class="token punctuation">,</span> <span class="token string">"stock"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>您可以通过更改<code>optimizeShoppingCartOmitFields</code>数组来指定从 Cart 对象中删除哪些字段。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"category"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"includeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"children_data"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"children_count"</span><span class="token punctuation">,</span> <span class="token string">"sku"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"is_active"</span><span class="token punctuation">,</span> <span class="token string">"parent_id"</span><span class="token punctuation">,</span> <span class="token string">"level"</span><span class="token punctuation">,</span> <span class="token string">"url_key"</span><span class="token punctuation">,</span> <span class="token string">"product_count"</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"attribute"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"includeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"attribute_code"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"entity_type_id"</span><span class="token punctuation">,</span> <span class="token string">"options"</span><span class="token punctuation">,</span> <span class="token string">"default_value"</span><span class="token punctuation">,</span> <span class="token string">"is_user_defined"</span><span class="token punctuation">,</span> <span class="token string">"frontend_label"</span><span class="token punctuation">,</span> <span class="token string">"attribute_id"</span><span class="token punctuation">,</span> <span class="token string">"default_frontend_label"</span><span class="token punctuation">,</span> <span class="token string">"is_visible_on_front"</span><span class="token punctuation">,</span> <span class="token string">"is_visible"</span><span class="token punctuation">,</span> <span class="token string">"is_comparable"</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"productList"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"sort"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"includeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"type_id"</span><span class="token punctuation">,</span> <span class="token string">"sku"</span><span class="token punctuation">,</span> <span class="token string">"product_links"</span><span class="token punctuation">,</span> <span class="token string">"tax_class_id"</span><span class="token punctuation">,</span> <span class="token string">"special_price"</span><span class="token punctuation">,</span> <span class="token string">"special_to_date"</span><span class="token punctuation">,</span> <span class="token string">"special_from_date"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">,</span> <span class="token string">"price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"original_price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"original_price"</span><span class="token punctuation">,</span> <span class="token string">"special_price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token string">"sale"</span><span class="token punctuation">,</span> <span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"url_key"</span><span class="token punctuation">,</span> <span class="token string">"status"</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"excludeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"configurable_children"</span><span class="token punctuation">,</span> <span class="token string">"description"</span><span class="token punctuation">,</span> <span class="token string">"configurable_options"</span><span class="token punctuation">,</span> <span class="token string">"sgn"</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"productListWithChildren"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"includeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"type_id"</span><span class="token punctuation">,</span> <span class="token string">"sku"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"tax_class_id"</span><span class="token punctuation">,</span> <span class="token string">"special_price"</span><span class="token punctuation">,</span> <span class="token string">"special_to_date"</span><span class="token punctuation">,</span> <span class="token string">"special_from_date"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">,</span> <span class="token string">"priceInclTax"</span><span class="token punctuation">,</span> <span class="token string">"original_price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"original_price"</span><span class="token punctuation">,</span> <span class="token string">"special_price_incl_t_ax"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token string">"sale"</span><span class="token punctuation">,</span> <span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.image"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.sku"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.price"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.special_price"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.special_price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.original_price"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.original_price_incl_tax"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.color"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.size"</span><span class="token punctuation">,</span> <span class="token string">"configurable_children.id"</span><span class="token punctuation">,</span> <span class="token string">"product_links"</span><span class="token punctuation">,</span> <span class="token string">"url_key"</span><span class="token punctuation">,</span> <span class="token string">"status"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"excludeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"description"</span><span class="token punctuation">,</span> <span class="token string">"sgn"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"excludeFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"updated_at"</span><span class="token punctuation">,</span> <span class="token string">"created_at"</span><span class="token punctuation">,</span> <span class="token string">"attribute_set_id"</span><span class="token punctuation">,</span> <span class="token string">"tier_prices"</span><span class="token punctuation">,</span> <span class="token string">"options_container"</span><span class="token punctuation">,</span> <span class="token string">"msrp_display_actual_price_type"</span><span class="token punctuation">,</span> <span class="token string">"has_options"</span><span class="token punctuation">,</span> <span class="token string">"stock.manage_stock"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_min_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_notify_stock_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.stock_id"</span><span class="token punctuation">,</span>  <span class="token string">"stock.use_config_backorders"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_enable_qty_inc"</span><span class="token punctuation">,</span> <span class="token string">"stock.enable_qty_increments"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_manage_stock"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_min_sale_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.notify_stock_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_max_sale_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.use_config_max_sale_qty"</span><span class="token punctuation">,</span> <span class="token string">"stock.qty_increments"</span><span class="token punctuation">,</span> <span class="token string">"small_image"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"includeFields"</span><span class="token operator">:</span> <span class="token null keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>这些设置仅用于配置不同实体类型的优化策略。请分别看看我们有<code>productListWithChildren</code>和<code>product</code>配置。前者用于Category页面-&gt; <code>core/pages/Category.js</code> ，后者用于Product页面<code>core/pages/Product.js</code></p>
<h3 id="动态类别预取" tabindex="-1"><a class="header-anchor" href="#动态类别预取" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#dynamic-categories-prefetching" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>动态类别预取</h3>
<p>从 Vue Storefront 1.7 开始，我们添加了一个配置选项<code>config.entities.category.categoriesDynamicPrefetch</code>（默认设置为<code>true</code>）。此选项切换获取类别树的方式。以前我们获取完整的类别树。在某些情况下，它可以生成几 MB 的有效载荷。目前，有了这个选项，我们会在用户浏览类别树时按需预取类别。</p>
<h2 id="大车" tabindex="-1"><a class="header-anchor" href="#大车" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#cart" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>大车</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"cart"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"serverMergeByDefault"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>默认情况下，服务器购物车与 Vue Storefront 中客户端的购物车同步。当它没有设置时，Vue Storefront 无论如何都会执行服务器购物车合并算法，但是使用该<code>dryRun</code>选项，这意味着只会发出以下事件：</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'servercart-after-diff'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  diffLog<span class="token operator">:</span> diffLog<span class="token punctuation">,</span>
  serverItems<span class="token operator">:</span> serverItems<span class="token punctuation">,</span>
  clientItems<span class="token operator">:</span> clientItems<span class="token punctuation">,</span>
  dryRun<span class="token operator">:</span> event<span class="token punctuation">.</span>dry_run<span class="token punctuation">,</span>
  event<span class="token operator">:</span> event<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// send the difflog</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在事件处理程序中，可以手动处理合并过程。例如，在真正的合并发生之前向用户显示正确的信息。请看一下<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/cart" target="_blank" rel="noopener noreferrer">核心/模块/购物车 （打开新窗口）<OutboundLink/></a>供参考。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"synchronize"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果它被设置为<code>true</code>在<code>serverPull</code>每当用户添加，删除或编辑在选购任何产品Vuex方法将被执行。此方法将客户端购物车与服务器端购物车同步。</p>
<p>请看一下<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/cart" target="_blank" rel="noopener noreferrer">核心/模块/购物车 （打开新窗口）<OutboundLink/></a>供参考。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"synchronize_totals"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>与该<code>synchronize</code>选项类似，您可能希望禁用或启用（默认行为）购物车总数与后端平台同步。如果设置为<code>true</code>，则每当用户添加、删除或更改购物车中的任何项目时，购物车总数将被 Magento（或 Pimcore，或您使用的任何其他平台）总数覆盖。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"setCustomProductOptions"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为<code>true</code>，如果自定义选项支持产品，Vue Storefront 会将主 SKU 添加到购物车并将<code>product_option</code>购物车项目的子对象设置为当前配置的自定义选项集（例如、选定日期、复选框、标题或其他值）。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"setConfigurableProductOptions"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为<code>true</code>，对于可配置产品，Vue Storefront 会将主要 SKU 添加到购物车并将<code>product_option</code>购物车项目的子对象设置为当前配置的一组可配置选项（例如，颜色和尺寸）。否则，简单产品（根据选择的可配置选项）将被添加到购物车中。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"displayItemDiscounts"</span><span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为<code>true</code>，Vue Storefront 将在购物车中添加有折扣的价格项目。否则，产品价格和特价将被添加到购物车中。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"minicartCountType"</span><span class="token operator">:</span> <span class="token string">"quantities"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为<code>items</code>，Vue Storefront 将根据商品而不是商品数量计算购物车数量。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"create_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/create?token={{token}}"</span><span class="token punctuation">,</span>
  <span class="token property">"updateitem_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/update?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"deleteitem_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/delete?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"pull_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/pull?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"totals_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/totals?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"paymentmethods_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/payment-methods?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"shippingmethods_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/shipping-methods?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"shippinginfo_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/shipping-information?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"collecttotals_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/collect-totals?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"deletecoupon_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/delete-coupon?token={{token}}&amp;cartId={{cartId}}"</span><span class="token punctuation">,</span>
  <span class="token property">"applycoupon_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/cart/apply-coupon?token={{token}}&amp;cartId={{cartId}}&amp;coupon={{coupon}}"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这些端点应该指向<code>vue-storefront-api</code>实例，通常情况下，您只更改域名/基本 url 而不涉及特定的端点 URL，因为它与<code>vue-storefront-api</code>细节相关。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"productsAreReconfigurable"</span><span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为<code>true</code>，您可以在购物车视图中编辑当前选项，例如颜色或尺寸。仅适用于可配置产品。</p>
<h2 id="产品" tabindex="-1"><a class="header-anchor" href="#产品" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#products" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>产品</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"useMagentoUrlKeys"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>当<code>useMagentoUrlKeys</code>被设定为<code>true</code>在<code>product.url_key</code> 值将用于在URL建设过程中使用的产品和类别蛞蝓。否则，将根据产品或类别名称生成 slug。请看一下 <a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/lib/search.ts" target="_blank" rel="noopener noreferrer">core/lib/search.ts （打开新窗口）<OutboundLink/></a>和<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/category/mutations.ts" target="_blank" rel="noopener noreferrer">core/modules/catalog/store/category/mutations.ts （打开新窗口）<OutboundLink/></a>以供参考。</p>
<p>**请注意：**该<code>url_key</code>字段在类别集合中必须是唯一的。因此，我们默认根据名称和类别 ID 生成其值。请<a href="https://github.com/vuestorefront/mage2vuestorefront/#initial-vue-storefront-import" target="_blank" rel="noopener noreferrer">关闭此选项 （打开新窗口）<OutboundLink/></a>如果你想保留<code>url_key</code>它们来自 Magento2。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"configurableChildrenStockPrefetchStatic"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"configurableChildrenStockPrefetchStaticPrefetchCount"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Vue Storefront 尝试动态获取与可配置产品（包含在<code>configurabe_children</code>数组中的产品）相关的简单产品的库存数量。如果<code>configurableChildrenStockPrefetchStatic</code>设置为<code>true</code>，则从类别页面级别预取库存项目。请查看<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/store/category/actions.ts" target="_blank" rel="noopener noreferrer">core/modules/catalog/store/category/actions.ts （打开新窗口）<OutboundLink/></a>. 第二个选项 -<code>configurableChildrenStockPrefetchStaticPrefetchCount</code>设置应使用此机制预取类别中的产品数量。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"configurableChildrenStockPrefetchDynamic"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>与静态预取相反，Vue Storefront 还可以<code>configurable_children</code>只为类别页面上可见的产品预取库存项目。这个选项是从主题级别使用的——例如，<a href="https://github.com/vuestorefront/vue-storefront/tree/master/src/themes/default/pages/Category.vue" target="_blank" rel="noopener noreferrer">src/themes/default/pages/Category.vue（打开新窗口）<OutboundLink/></a></p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"filterUnavailableVariants"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>默认情况下，Vue Storefront 显示分配给可配置产品的所有变体，无论它们是否可见。然后，通过将特定变体添加到购物车，检查可用性。您可以将此设置切换<code>true</code>为预取变体可用性（请参阅上述选项）并隐藏不可用选项。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"listOutOfStockProducts"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>默认情况下，Vue Storefront 不显示库存可用性 =“缺货”的产品。但是，可以使用此变量对其进行更改。Vue Storefront 使用该<code>product.stock</code> 对象来访问产品信息的可用性。请注意，此信息仅在<code>mage2vuestorefront</code>更新 ElasticSearch 索引时更新。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"preventConfigurableChildrenDirectAccess"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果此选项设置为 true（默认），Vue Storefront 将阻止访问分配有可配置产品的简单产品。在这种情况下，用户将被重定向到主要的可配置产品。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"alwaysSyncPlatformPricesOver"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这个属性在<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/store/modules/product/actions.ts" target="_blank" rel="noopener noreferrer">core/store/modules/product/actions.ts中使用 （打开新窗口）<OutboundLink/></a>; 如果设置为<code>true</code>Vue Storefront 将在用户<strong>每次</strong>将要显示产品或类别页面时查询<code>vue-storefront-api</code>端点 ( <code>/api/products/render-list</code>) 以呈现当前显示产品的产品价格。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"clearPricesBeforePlatformSync"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这<code>alwaysSyncPlatformPricesOver</code>与当它设置为 true 时有关，在呈现动态价格之前，从 Elasticsearch 提供的价格将始终被覆盖为零。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"waitForPlatformSync"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这与<code>alwaysSyncPlatformPricesOver</code>. 当为 true 时，Vue Storefront 将在呈现页面之前等待动态价格。否则，产品和类别页面将使用默认（基于 Elasticsearch）的价格呈现，然后用当前价格异步覆盖它们。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"alwaysSyncPricesClientSide"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这与<code>alwaysSyncPlatformPricesOver</code>. 当为 true 时，Vue Storefront 将强制刷新客户端的价格，包括来自当前登录用户的令牌，因此可以应用客户特定的定价。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/product"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是<code>vue-storefront-api</code>呈现产品列表的端点。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"defaultFilters"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"color"</span><span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">,</span> <span class="token string">"erin_recommends"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><code>defaultFilters</code>数组应包含可以在<a href="https://github.com/vuestorefront/vue-storefront/tree/master/src/themes/default/components/core/blocks/Category/Sidebar.vue" target="_blank" rel="noopener noreferrer">侧边栏菜单过滤器中<OutboundLink/></a>使用的<strong>所有</strong>过滤<a href="https://github.com/vuestorefront/vue-storefront/tree/master/src/themes/default/components/core/blocks/Category/Sidebar.vue" target="_blank" rel="noopener noreferrer">器 （打开新窗口）<OutboundLink/></a>.</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"sortByAttributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"Latest"</span><span class="token operator">:</span> <span class="token string">"updated_at"</span><span class="token punctuation">,</span>
    <span class="token property">"Price"</span><span class="token operator">:</span><span class="token string">"price"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在这里，我们有排序字段设置，因为它们显示在“类别”页面上。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"systemFilterNames"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"sort"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是一个查询字段数组，在 URL 中时不会被视为过滤器字段。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"gallery"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"mergeConfigurableChildren"</span><span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Vue的店面是喂养产品页面坑道的组合：<code>product.media_gallery</code>，<code>product.image</code>和<code>product.configurable_children.image</code>。如果设置为<code>false</code>产品页面库显示<code>product.media_gallery</code>所选变体的。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"gallery"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"variantsGroupAttribute"</span><span class="token operator">:</span> <span class="token string">"color"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果<code>mergeConfigurableChildren</code>设置为<code>true</code>在某些情况下，附加到可配置产品的简单产品与分配的主要产品具有相同的照片。如果此选项设置为指定的任何特定属性的名称<code>configurable_children</code>，则 Vue Storefront 获取的图像将按颜色分组（从<code>configurable_children</code>集合中获取单色图像）</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>   <span class="token property">"gallery"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">"imageAttributes"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"image"</span><span class="token punctuation">,</span><span class="token string">"thumbnail"</span><span class="token punctuation">,</span><span class="token string">"small_image"</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>代表图像的产品属性。如果<code>mergeConfigurableChildren</code>设置为<code>false</code>并且产品已配置，我们将在产品页面库中看到它</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"gallery"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"width"</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
      <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">744</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>图库中图像的尺寸。</p>
<p>如果您想对价格使用最大/最小聚合，您可以使用此设置启用它们。<a href="https://github.com/vuestorefront/storefront-query-builder" target="_blank" rel="noopener noreferrer">Storefront Query Builder<OutboundLink/></a>正在使用它<a href="https://github.com/vuestorefront/storefront-query-builder" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>所以它需要它。根据配置的其他部分，您可能希望在 PWA 或 VSF-API 的配置中应用此设置。一些自定义模块（如<a href="https://github.com/Fifciu/vsf-price-slider" target="_blank" rel="noopener noreferrer">VSF Price Slider）<OutboundLink/></a>可能会使用新返回的聚合<a href="https://github.com/Fifciu/vsf-price-slider" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>.</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"aggregate"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"minPrice"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">"maxPrice"</span><span class="token operator">:</span> <span class="token boolean">false</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="订单" tabindex="-1"><a class="header-anchor" href="#订单" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#orders" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>订单</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"orders"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/order"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此属性设置订单端点的 URL。一旦互联网连接可用，订单将被放置到这个特定的 URL。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>    <span class="token property">"payment_methods_mapping"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这是在<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/pages/Checkout.js" target="_blank" rel="noopener noreferrer">core/pages/Checkout.js 中<OutboundLink/></a>使用的简单地图<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/pages/Checkout.js" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>将后端服务提供的支付方式与 Vue Storefront 可用的支付方式进行映射。每种支付方式都是一个单独的 Vue Storefront 扩展，并非后端提供的所有方法都必须由前端支持。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"offline_orders"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"notification"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"enabled"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">"title"</span> <span class="token operator">:</span> <span class="token string">"Order waiting!"</span><span class="token punctuation">,</span>
      <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"Click here to confirm the order that you made offline."</span><span class="token punctuation">,</span>
      <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"/assets/logo.png"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>当用户在离线模式下下订单并同意接收推送通知时，这些变量用于确定通知的外观和感觉。</p>
<p>请检查<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/service-worker/order.js" target="_blank" rel="noopener noreferrer">core/service-worker/order.js （打开新窗口）<OutboundLink/></a>以供参考。</p>
<p>从 Vue Storefront v1.6 开始，我们更改了默认的下单行为。目前，默认<code>config.orders.directBackendSync</code>设置为<code>true</code>。启用此选项后，如果用户在线，Vue Storefront 会尝试立即同步（等待结果）将订单传递到电子商务后端。此选项为用户提供即时和直接的反馈。如果出现应用级错误（例如，Magento 端的验证错误），将立即通知用户。如果存在传输问题（无连接、服务器关闭等），则订单会放入队列中（与 1.6 之前的版本一样）。如果 <code>config.orders.directBackendSync</code>设置为 false，则使用将所有订单排队的旧行为。随着<code>directBackendSync</code>设置为true，我们确实有访问服务器的确认（与后端订单ID）在 <code>store.state.order.last_order_confirmation</code></p>
<h2 id="当地牧草" tabindex="-1"><a class="header-anchor" href="#当地牧草" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#local-forage" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>当地牧草</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"localForage"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"defaultDrivers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"user"</span><span class="token operator">:</span> <span class="token string">"LOCALSTORAGE"</span><span class="token punctuation">,</span>
    <span class="token property">"carts"</span><span class="token operator">:</span> <span class="token string">"LOCALSTORAGE"</span><span class="token punctuation">,</span>
    <span class="token property">"orders"</span><span class="token operator">:</span> <span class="token string">"LOCALSTORAGE"</span><span class="token punctuation">,</span>
    <span class="token property">"wishlist"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"categories"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"attributes"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"products"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"elasticCache"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"claims"</span><span class="token operator">:</span> <span class="token string">"LOCALSTORAGE"</span><span class="token punctuation">,</span>
    <span class="token property">"compare"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"syncTasks"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"newsletterPreferences"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"ordersHistory"</span><span class="token operator">:</span> <span class="token string">"INDEXEDDB"</span><span class="token punctuation">,</span>
    <span class="token property">"checkout"</span><span class="token operator">:</span> <span class="token string">"LOCALSTORAGE"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>我们正在使用<a href="https://github.com/localForage/localForage" target="_blank" rel="noopener noreferrer">localForage （打开新窗口）<OutboundLink/></a>库为 Vue Storefront 提供持久层。<code>localForage</code>为没有配备某些特定存储方法（例如 indexedDb）的用户提供兼容性回退。但是，我们可能希望在配置中强制执行某些特定的存储方法。这是设置它的地方。</p>
<h2 id="用户" tabindex="-1"><a class="header-anchor" href="#用户" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#users" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>用户</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"users"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"autoRefreshTokens"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user"</span><span class="token punctuation">,</span>
  <span class="token property">"history_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/order-history?token={{token}}"</span><span class="token punctuation">,</span>
  <span class="token property">"resetPassword_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/reset-password"</span><span class="token punctuation">,</span>
  <span class="token property">"changePassword_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/change-password?token={{token}}"</span><span class="token punctuation">,</span>
  <span class="token property">"login_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/login"</span><span class="token punctuation">,</span>
  <span class="token property">"create_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/create"</span><span class="token punctuation">,</span>
  <span class="token property">"me_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/me?token={{token}}"</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/user/refresh"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在该<code>users</code>部分中，我们可以为特定的使用相关操作设置 API 端点。大多数情况下，您只需要更改基本 URL。</p>
<p>当该<code>autoRefreshTokens</code>属性设置为<code>true</code>（默认）时，Vue Storefront 将尝试在会话结束时自动刷新用户令牌。请查看<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/lib/sync/task.ts" target="_blank" rel="noopener noreferrer">core/lib/sync/task.ts （打开新窗口）<OutboundLink/></a>以供参考。</p>
<h2 id="库存" tabindex="-1"><a class="header-anchor" href="#库存" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#stock" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>库存</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"stock"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"synchronize"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"allowOutOfStockInCart"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/stock"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>该<code>stock</code>部分配置了将产品添加到购物车时 Vue Storefront 的行为方式。默认情况下，对操作的请求<code>stock.endpoint</code>是异步进行的<code>add to cart</code>。当<code>allowOutOfStockInCart</code>设置为<code>true</code>并且产品不再可用时，它将在 Vue Storefront 可以使用该信息后不久将其从购物车中删除（带有适当的 UI 通知）。</p>
<h2 id="图片" tabindex="-1"><a class="header-anchor" href="#图片" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#images" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>图片</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"images"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"https://demo.vuestorefront.io/img/"</span><span class="token punctuation">,</span>
  <span class="token property">"productPlaceholder"</span><span class="token operator">:</span> <span class="token string">"/assets/placeholder.jpg"</span><span class="token punctuation">,</span>
  <span class="token property">"useExactUrlsNoProxy"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"useSpecificImagePaths"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"product"</span><span class="token operator">:</span> <span class="token string">"/catalog/product"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>此部分用于设置图像的默认基本 URL。这应该是一个<code>vue-storefront-api</code>指向其<code>/api/img</code>处理程序的URL 。Vue Storefront API 负责从 Magento/Pimcore 后端下载本地图像缓存，并执行调整大小/裁剪/缩放操作以优化移动设备和 UI 的图像。</p>
<p>如果你wan't也显示您必须设置非产品图像缩略图<code>useSpecificImagePaths</code>来<code>true</code>和删除<code>/catalog/product</code>从您的API结束<code>magento1.imgUrl</code>或<code>magento2.imgUrl</code>在您的API的配置文件设置-如：<code>http://magento-demo.local/media</code>。之后，您可以使用mixin方法的<code>pathType</code>参数<code>getThumbnail()</code>来遍历产品图像以外的其他图像。</p>
<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#install" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>安装</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"install"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"is_local_backend"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"backend_dir"</span><span class="token operator">:</span> <span class="token string">"../vue-storefront-api"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这只是在<a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/scripts/installer.js" target="_blank" rel="noopener noreferrer">core/scripts/installer.js 中使用（打开新窗口）<OutboundLink/></a></p>
<h2 id="演示模式" tabindex="-1"><a class="header-anchor" href="#演示模式" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#demo-mode" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>演示模式</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"demomode"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>当<code>demomode</code>设置为 时<code>true</code>，Vue Storefront 将显示“欢迎使用 Vue Storefront 演示”弹出窗口。</p>
<h2 id="税收" tabindex="-1"><a class="header-anchor" href="#税收" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#taxes" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>税收</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"tax"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"sourcePriceIncludesTax"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"defaultCountry"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
  <span class="token property">"defaultRegion"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"calculateServerSide"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"userGroupId"</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>税收部分由 <a href="https://github.com/vuestorefront/vue-storefront/tree/master/core/modules/catalog/helpers/tax.ts" target="_blank" rel="noopener noreferrer">core/modules/catalog/helpers/tax 使用 （打开新窗口）<OutboundLink/></a>. 当<code>sourcePricesIncludesTax</code>设置为<code>true</code>它意味着在 Elasticsearch 中索引的价格已经包含税收。如果它设置为<code>false</code>税将计算运行时。在<code>userGroupId</code> 配置的确，当你已经设置唯一的工作<code>sourcePriceIncludesTax</code>组，以 <code>false</code>和<code>calculateServerSide</code>被设置为<code>false</code>。</p>
<p>在<code>defaultCountry</code>和<code>defaultRegion</code>设置被用于查找为匿名适当的税率，未识别用户（哪个国家尚未设置）。</p>
<h2 id="船运" tabindex="-1"><a class="header-anchor" href="#船运" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#shipping" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>船运</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"shipping"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"methods"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"method_title"</span><span class="token operator">:</span> <span class="token string">"DPD Courier"</span><span class="token punctuation">,</span>
      <span class="token property">"method_code"</span><span class="token operator">:</span> <span class="token string">"flatrate"</span><span class="token punctuation">,</span>
      <span class="token property">"carrier_code"</span><span class="token operator">:</span> <span class="token string">"flatrate"</span><span class="token punctuation">,</span>
      <span class="token property">"amount"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">"price_incl_tax"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">"offline"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>后台平台不提供动态列表/或离线场景时可用的运输方式。</p>
<h2 id="国际化" tabindex="-1"><a class="header-anchor" href="#国际化" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#internationalization" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>国际化</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>  <span class="token property">"i18n"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fullCountryName"</span><span class="token operator">:</span> <span class="token string">"Germany"</span><span class="token punctuation">,</span>
    <span class="token property">"fullLanguageName"</span><span class="token operator">:</span> <span class="token string">"German"</span><span class="token punctuation">,</span>
    <span class="token property">"defaultLanguage"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
    <span class="token property">"defaultCountry"</span><span class="token operator">:</span> <span class="token string">"DE"</span><span class="token punctuation">,</span>
    <span class="token property">"defaultLocale"</span><span class="token operator">:</span> <span class="token string">"de-DE"</span><span class="token punctuation">,</span>
    <span class="token property">"currencyCode"</span><span class="token operator">:</span> <span class="token string">"EUR"</span><span class="token punctuation">,</span>
    <span class="token property">"currencySign"</span><span class="token operator">:</span> <span class="token string">"EUR"</span><span class="token punctuation">,</span>
    <span class="token property">"dateFormat"</span><span class="token operator">:</span> <span class="token string">"HH:mm D-M-YYYY"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>翻译引擎 ( <code>defautlLocale</code>) 和<a href="https://github.com/vuestorefront/vue-storefront/tree/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer">Language/Switcher.vue<OutboundLink/></a>使用国际化设置<a href="https://github.com/vuestorefront/vue-storefront/tree/master/src/themes/default/components/core/blocks/Switcher/Language.vue" target="_blank" rel="noopener noreferrer"> （打开新窗口）<OutboundLink/></a>( <code>fullCountryName</code>, <code>fullLanguageName</code>) <code>currencyCode</code> 用于一些 API 调用（主要是渲染价格）并<code>currencySign</code>用于在前端显示价格。</p>
<h2 id="邮递员" tabindex="-1"><a class="header-anchor" href="#邮递员" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#mailchimp" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>邮递员</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"mailchimp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/ext/mailchimp-subscribe/subscribe"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此属性由 Mailchimp 扩展使用（请参阅<a href="https://github.com/vuestorefront/vue-storefront-api/tree/master/src/api/extensions" target="_blank" rel="noopener noreferrer">src/extensions （打开新窗口）<OutboundLink/></a>供参考）。</p>
<h2 id="主题" tabindex="-1"><a class="header-anchor" href="#主题" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#theme" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>主题</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"theme"</span><span class="token operator">:</span> <span class="token string">"@vue-storefront/theme-default"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是当前应用的主题路径。更改之后，需要重新构建Vue Storefront。</p>
<h2 id="分析" tabindex="-1"><a class="header-anchor" href="#分析" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#analytics" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>分析</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"analytics"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>您可以将您的 Google Analytics ID 放在此处以供分析扩展程序使用。</p>
<h2 id="热加尔" tabindex="-1"><a class="header-anchor" href="#热加尔" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#hotjar" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>热加尔</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"hotjar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>您可以将您的 Hotjar 站点 ID 放在此处以供 hotjar 扩展使用。</p>
<h2 id="内容管理系统" tabindex="-1"><a class="header-anchor" href="#内容管理系统" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#cms" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>内容管理系统</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"cms"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"endpoint"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/api/ext/cms-data/cms{{type}}/{{cmsId}}"</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这是 Snow.dog Magento 2 CMS 扩展的 URL 端点。使用<a href="https://github.com/vuestorefront/vue-storefront-api/tree/master/src/api/extensions/cms-data" target="_blank" rel="noopener noreferrer">src/api/extensions/cms-data<OutboundLink/></a>时需要设置<a href="https://github.com/vuestorefront/vue-storefront-api/tree/master/src/api/extensions/cms-data" target="_blank" rel="noopener noreferrer">（打开新窗口）<OutboundLink/></a></p>
<h2 id="使用价格等级" tabindex="-1"><a class="header-anchor" href="#使用价格等级" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#use-price-tiers" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>使用价格等级</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"usePriceTiers"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>当设置为<code>true</code>我们使用分层价格的 Magento2 功能（为客户组设置的个人价格）。价格在<code>product.tier_prices</code>物业中设定。</p>
<h2 id="管理零价格产品" tabindex="-1"><a class="header-anchor" href="#管理零价格产品" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#manage-products-with-price-zero" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>管理零价格产品</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"useZeroPriceProduct"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>设置为<code>true</code>，如果你希望客户用价格为零将产品添加到购物车，否则，返回一个错误。默认设置为真。</p>
<h2 id="促进" tabindex="-1"><a class="header-anchor" href="#促进" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#boost" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>促进</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"boost"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">"category.name"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"short_description"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"sku"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"configurable_children.sku"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这是搜索功能的优先级列表（更高的提升 = 更重要的搜索字段）。</p>
<h2 id="询问" tabindex="-1"><a class="header-anchor" href="#询问" aria-hidden="true">#</a> <a href="https://docs.vuestorefront.io/v1/guide/basics/configuration.html#query" target="_blank" rel="noopener noreferrer">#<OutboundLink/></a>询问</h2>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"inspirations"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"category.name"</span><span class="token punctuation">,</span>
          <span class="token property">"value"</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"eq"</span><span class="token operator">:</span> <span class="token string">"Performance Fabrics"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"newProducts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"category.name"</span><span class="token punctuation">,</span>
          <span class="token property">"value"</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"eq"</span><span class="token operator">:</span> <span class="token string">"Tees"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"coolBags"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"category.name"</span><span class="token punctuation">,</span>
          <span class="token property">"value"</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"eq"</span><span class="token operator">:</span> <span class="token string">"Women"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"bestSellers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"category.name"</span><span class="token punctuation">,</span>
          <span class="token property">"value"</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"eq"</span><span class="token operator">:</span> <span class="token string">"Tees"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>特定组件（例如，相关产品）使用的搜索查询。查询的格式已在<a href="https://docs.vuestorefront.io/v1/guide/data/elastic-queries.html" target="_blank" rel="noopener noreferrer">此处<OutboundLink/></a>描述</p>
</template>
